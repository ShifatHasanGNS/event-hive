@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply relative min-h-screen bg-[#040510] font-display text-brand-50 antialiased;
  }
}

@layer components {
  .background-gradient {
    @apply pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(circle_at_15%_-10%,rgba(99,102,241,0.18),transparent_45%),radial-gradient(circle_at_85%_5%,rgba(56,189,248,0.15),transparent_50%),radial-gradient(circle_at_50%_90%,rgba(236,72,153,0.12),transparent_55%)];
  }

  .background-grid {
    @apply pointer-events-none absolute inset-0 -z-20 bg-[linear-gradient(rgba(148,163,184,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(148,163,184,0.03)_1px,transparent_1px)] bg-[length:120px_120px] [mask-image:radial-gradient(circle_at_center,rgba(0,0,0,0.9),transparent_70%)];
  }

  .site-nav {
    @apply sticky top-0 z-20 border-b border-white/10 bg-[#060c1a]/80 backdrop-blur-2xl;
  }

  .nav-container {
    @apply mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-4 lg:px-6;
  }

  .brand-link {
    @apply flex items-center gap-3 text-sm font-semibold uppercase tracking-[0.28em] text-brand-100 transition hover:text-white;
  }

  .brand-mark {
    @apply flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-brand-400 to-brand-600 text-slate-950;
  }

  .nav-list {
    @apply flex items-center gap-6 text-xs font-semibold uppercase tracking-[0.25em] text-brand-400;
  }

  .nav-link {
    @apply relative pb-1 text-brand-400 transition hover:text-brand-200;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    left: 0.25rem;
    right: 0.25rem;
    bottom: -0.25rem;
    height: 2px;
    border-radius: 9999px;
    background-image: linear-gradient(90deg, rgba(99, 102, 241, 0), rgba(99, 102, 241, 0.8), rgba(236, 72, 153, 0.6));
    transform: translateY(0.25rem);
    opacity: 0;
    transition: opacity 150ms ease, transform 150ms ease;
  }

  .nav-link:hover::after {
    opacity: 1;
    transform: translateY(0);
  }

  .nav-link--active {
    @apply text-brand-100;
  }

  .nav-link--active::after {
    opacity: 1;
    transform: translateY(0);
  }

  .app-main {
    @apply relative mx-auto flex max-w-6xl flex-col gap-12 px-4 py-12 lg:gap-16;
  }

  .tile-grid {
    @apply grid gap-3 sm:grid-cols-3;
  }

  .tile-card {
    @apply rounded-2xl border border-white/10 bg-slate-900/40 p-4 shadow-lg shadow-brand-900/30 backdrop-blur;
  }

  .tile-label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-300;
  }

  .tile-caption {
    @apply mt-2 text-sm text-brand-200;
  }

  .chip-label {
    @apply inline-flex items-center gap-2 rounded-full border border-brand-500/40 bg-brand-500/20 px-3 py-1 text-[0.6rem] font-semibold uppercase tracking-[0.35em] text-brand-200 backdrop-blur sm:text-xs;
  }

  .glass-panel {
    @apply rounded-3xl border border-brand-500/30 bg-gradient-to-br from-[#121b2e] via-[#11172a] to-[#0c1221] p-8 shadow-2xl shadow-brand-900/40 backdrop-blur;
  }

  .glass-card {
    @apply rounded-3xl border border-brand-500/25 bg-gradient-to-br from-[#10172b] via-[#0e1526] to-[#0a111d] p-6 shadow-xl shadow-brand-900/35 backdrop-blur;
  }

  .prompt-wrapper {
    @apply flex items-start gap-4 rounded-2xl border border-brand-500/30 bg-gradient-to-br from-[#0f192c] via-[#0c1526] to-[#08101e] px-5 py-5 transition focus-within:border-brand-400/60 focus-within:shadow-brand-500/20 focus-within:shadow-lg;
  }

  .prompt-icon {
    @apply mt-1 text-lg text-brand-400;
  }

  .prompt-actions {
    @apply flex flex-wrap gap-2;
  }

  .btn-primary {
    @apply inline-flex items-center gap-2 rounded-full border border-brand-500/40 bg-brand-500/10 px-6 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-brand-100 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40 hover:bg-brand-500/20 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .btn-secondary {
    @apply inline-flex items-center gap-2 rounded-full border border-brand-500/40 bg-brand-500/10 px-5 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-brand-100 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-400/40 hover:bg-brand-500/20 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .chip-button {
    @apply rounded-full border border-white/10 px-4 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-brand-200 transition hover:bg-white/10;
  }

  .metric-chip {
    @apply inline-flex items-center gap-1 rounded-full border border-brand-500/30 bg-brand-500/15 px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-brand-100;
  }

  .stat-chip {
    @apply inline-flex items-center gap-2 rounded-full border border-brand-500/30 bg-brand-500/20 px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-brand-100;
  }

  .error-banner {
    @apply mt-5 hidden rounded-2xl border border-red-500/50 bg-red-500/15 px-4 py-3 text-sm font-medium text-red-200;
  }

  .sql-editor {
    @apply w-full rounded-2xl border border-brand-500/30 bg-gradient-to-br from-[#0e1729] to-[#0a111d] px-5 py-4 font-mono text-sm leading-relaxed text-brand-100 placeholder:text-brand-500 focus:border-brand-400/60 focus:outline-none focus:ring-2 focus:ring-brand-500/30;
  }

  .system-list {
    @apply mt-4 max-h-72 space-y-3 overflow-y-auto pr-1 text-sm text-brand-200;
  }

  .message-card {
    @apply rounded-2xl border border-brand-500/25 bg-gradient-to-br from-[#131d31] to-[#0d1526] p-4;
  }

  .message-card__label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-400;
  }

  .message-card__body {
    @apply mt-2 text-sm leading-relaxed text-brand-100;
  }

  .message-placeholder {
    @apply rounded-2xl border border-dashed border-brand-500/35 bg-brand-500/10 px-4 py-3 text-sm text-brand-300;
  }

  .results-container {
    @apply mt-6 space-y-6;
  }

  .result-card {
    @apply space-y-6 rounded-3xl border border-brand-500/30 bg-gradient-to-br from-[#10192d] via-[#0d1526] to-[#080f1d] p-6 shadow-xl shadow-brand-900/30 backdrop-blur;
  }

  .result-placeholder {
    @apply rounded-3xl border border-dashed border-brand-500/35 bg-brand-500/10 px-6 py-8 text-center text-sm text-brand-300;
  }

  .notice-card {
    @apply rounded-3xl border border-dashed border-brand-500/40 bg-brand-500/10 px-6 py-6 text-sm text-brand-200;
  }

  .table-wrapper {
    @apply overflow-x-auto rounded-2xl border border-brand-500/25 bg-gradient-to-br from-[#0f192c] via-[#0c1526] to-[#08101e];
  }

  .result-table {
    @apply min-w-full divide-y divide-brand-500/30 text-sm text-brand-100;
  }

  .result-table__head {
    @apply bg-brand-500/15 backdrop-blur;
  }

  .result-table__heading {
    @apply whitespace-nowrap px-4 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em] text-brand-100;
  }

  .result-table__body {
    @apply divide-y divide-brand-500/25;
  }

  .result-table__row {
    @apply transition hover:bg-brand-500/10;
  }

  .result-table__cell {
    @apply whitespace-nowrap px-4 py-2 text-brand-100;
  }

  .text-output {
    @apply mt-4 rounded-2xl border border-brand-500/30 bg-gradient-to-br from-[#131d31] to-[#0d1526] px-4 py-3 font-mono text-sm leading-relaxed text-brand-100;
  }

  .toast-alert {
    @apply pointer-events-auto rounded-2xl border border-red-500/30 bg-red-500/90 px-4 py-3 text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-white shadow-xl transition-all duration-200 ease-out;
  }

  .schema-grid {
    @apply grid gap-6 md:grid-cols-2 xl:grid-cols-3;
  }

  .schema-list {
    @apply grid gap-3 list-none p-0;
  }

  .schema-item {
    @apply grid items-baseline gap-4 text-sm text-brand-100;
    grid-template-columns: auto minmax(0, 1fr) auto;
  }

  .section-divider {
    @apply h-0.5 w-full rounded-full bg-gradient-to-r from-brand-400/0 via-brand-400/70 to-pink-500/0 shadow-[0_0_18px_rgba(99,102,241,0.32)];
  }

  .legend-dot,
  .badge-dot {
    @apply inline-flex h-2.5 w-2.5 rounded-full bg-white/60;
  }

  .legend-dot.primary,
  .badge-dot.primary {
    @apply bg-gradient-to-tr from-brand-400 to-brand-500;
  }

  .legend-dot.foreign,
  .badge-dot.foreign {
    @apply bg-gradient-to-tr from-emerald-400 to-emerald-500;
  }

  .legend-dot.unique,
  .badge-dot.unique {
    @apply bg-gradient-to-tr from-amber-300 to-amber-500;
  }

  .legend-dot.check,
  .badge-dot.check {
    @apply bg-gradient-to-tr from-rose-400 to-rose-500;
  }

  .column {
    @apply font-mono text-xs uppercase tracking-[0.1em] text-brand-100;
  }

  .meta {
    @apply text-xs text-brand-400 text-right;
  }
}
